!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("@angular/common/http"),require("firebase")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/common","@angular/common/http","firebase"],e):e(t["universal-mairie-sdk"]={},t.ng.core,t.ng.common,t.ng.common.http,t.firebase)}(this,function(t,e,o,n,r){"use strict";var s=function(){function t(){}return t.forRoot=function(e){return{ngModule:t,providers:[]}},t}();s.UNIVERSAL_CONFIG={API_URL:"",FIREBASE_API_KEY:"",FIREBASE_AUTH_DOMAIN:"",FIREBASE_DATABASE_URL:"",FIREBASE_STORAGE_BUCKET:""},s.decorators=[{type:e.NgModule,args:[{imports:[o.CommonModule,n.HttpClientModule],declarations:[],providers:[]}]}],s.ctorParameters=function(){return[]};var i=function(){function t(t){this._http=t}return t.prototype.getArticles=function(t){return this._http.get(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/articles")},t.prototype.getArticleById=function(t,e){return this._http.get(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/articles/"+e)},t.prototype.updateArticleById=function(t,e,o){return this._http.patch(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/articles/"+e,{newArticle:o})},t.prototype.deleteArticleById=function(t,e){return this._http["delete"](s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/articles/"+e)},t.prototype.createArticle=function(t,e){return this._http.post(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/articles",{article:e})},t}();i.decorators=[{type:e.Injectable}],i.ctorParameters=function(){return[{type:n.HttpClient}]};var a=function(){function t(t){this._http=t}return t.prototype.getAssociationAnnounce=function(t,e){return this._http.get(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/associations/"+e+"/announces")},t.prototype.getAssociationAnnounceById=function(t,e,o){return this._http.get(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/associations/"+e+"/announces/"+o)},t.prototype.updateAssociationAnnounceById=function(t,e,o,n){return this._http.patch(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/associations/"+e+"/announces/"+o,{newAnnounce:n})},t.prototype.createAssociationAnnounce=function(t,e,o){return this._http.post(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/associations/"+e+"/announces",{announce:o})},t}();a.decorators=[{type:e.Injectable}],a.ctorParameters=function(){return[{type:n.HttpClient}]};var u=function(){function t(t){this._http=t}return t.prototype.getAssociationSubscriptions=function(t,e){return this._http.get(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/associations/"+e+"/subscriptions")},t.prototype.getAssociationSubscriptionById=function(t,e,o){return this._http.get(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/associations/"+e+"/subscriptions/"+o)},t.prototype.deleteAssociationSubscriptionById=function(t,e){return this._http["delete"](s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/associations/0/subscriptions/"+e)},t.prototype.createAssociationSubscription=function(t,e,o){return this._http.post(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/associations/"+e+"/subscriptions",{subscription:o})},t}();u.decorators=[{type:e.Injectable}],u.ctorParameters=function(){return[{type:n.HttpClient}]};var c=function(){function t(t){this._http=t}return t.prototype.getAssociations=function(t,e){var o="?";for(var n in e)o+=n+"="+e[n];return this._http.get(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/associations"+o)},t.prototype.getAssociationById=function(t,e){return this._http.get(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/associations/"+e)},t.prototype.updateAssociationById=function(t,e,o){return this._http.patch(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/associations/"+e,{newAssociation:o})},t.prototype.deleteAssociationById=function(t,e){return this._http["delete"](s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/associations/"+e)},t.prototype.createAssociation=function(t,e){return this._http.post(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/associations",{association:e})},t.prototype.validateAssociationById=function(t,e){return this._http.patch(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/associations/"+e+"/validate",{})},t.prototype.associateAssociationToUser=function(t,e,o){return this._http.patch(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/associations/0/associate",{token:o,uuid:e})},t}();c.decorators=[{type:e.Injectable}],c.ctorParameters=function(){return[{type:n.HttpClient}]};var p=function(){function t(t){this._http=t}return t.prototype.getDirectoryCategories=function(t){return this._http.get(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/directory_categories/")},t.prototype.getShopsForDirectoryCategory=function(t,e){return this._http.get(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/directory_categories/"+e+"/shops")},t.prototype.getShopsForDirectory=function(t){return this._http.get(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/shops")},t.prototype.getAssociationsForDirectory=function(t){return this._http.get(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/associations")},t.prototype.getAssociationsForDirectoryCategory=function(t,e){return this._http.get(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/directory_categories/"+e+"/associations")},t.prototype.updateDirectoryCategoryById=function(t,e,o){return this._http.patch(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/discussions/"+e,{newDirectoryCategory:o})},t.prototype.deleteDiscussionById=function(t,e){return this._http["delete"](s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/discussions/"+e)},t.prototype.createDirectoryCategory=function(t,e,o){return this._http.post(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/directory_categories/",{directory_category:e,under_category_id:o})},t}();p.decorators=[{type:e.Injectable}],p.ctorParameters=function(){return[{type:n.HttpClient}]};var l=function(){function t(t){this._http=t}return t.prototype.getDiscussionMessages=function(t,e){return this._http.get(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/discussions/"+e+"/messages")},t.prototype.updateDiscussionMessageById=function(t,e,o,n){return this._http.patch(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/discussions/"+e+"/messages/"+o,{newDiscussionMessage:n})},t.prototype.deleteDiscussionById=function(t,e,o){return this._http["delete"](s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/discussions/"+e+"/messages/"+o)},t.prototype.createDiscussionMessage=function(t,e,o){return this._http.post(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/discussions/"+e+"/messages",{discussionMessage:o})},t}();l.decorators=[{type:e.Injectable}],l.ctorParameters=function(){return[{type:n.HttpClient}]};var h,I=function(){function t(t){this._http=t}return t.prototype.getDiscussions=function(t){return this._http.get(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/discussions")},t.prototype.getUsersDiscussions=function(t,e){return this._http.get(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/users/"+e+"/discussions")},t.prototype.getDiscussionById=function(t,e){return this._http.get(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/discussions/"+e)},t.prototype.updateDiscussionById=function(t,e,o){return this._http.patch(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/discussions/"+e,{newDiscussion:o})},t.prototype.deleteDiscussionById=function(t,e){return this._http["delete"](s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/discussions/"+e)},t.prototype.createDiscussion=function(t,e){return this._http.post(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/discussions",{discussion:e})},t}();I.decorators=[{type:e.Injectable}],I.ctorParameters=function(){return[{type:n.HttpClient}]};var _=function(){function t(){h={apiKey:s.UNIVERSAL_CONFIG.FIREBASE_API_KEY,authDomain:s.UNIVERSAL_CONFIG.FIREBASE_AUTH_DOMAIN,databaseURL:s.UNIVERSAL_CONFIG.FIREBASE_DATABASE_URL,storageBucket:s.UNIVERSAL_CONFIG.FIREBASE_STORAGE_BUCKET},r.initializeApp(h),this.storage=r.storage()}return t.prototype.uploadText=function(t){return this.storage.ref("test/test.txt").putString(t,"base64")},t.prototype.uploadImage=function(t,e,o){return this.storage.ref(e+"/"+t).putString(o,"base64")},t.prototype.getImage=function(t){return this.storage.ref(t).getDownloadURL()},t.prototype.getNewFileName=function(t){var e=new Date;return t+"-"+e.getDate()+"-"+e.getMonth()+"-"+e.getFullYear()+"-"+e.getHours()+":"+e.getMinutes()},t}();_.decorators=[{type:e.Injectable}],_.ctorParameters=function(){return[]};var A=function(){function t(t){this._http=t}return t.prototype.getNews=function(t){return console.log("NENENENENNENEWS !"),this._http.get(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/news")},t.prototype.getNewsById=function(t,e){return this._http.get(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/news/"+e)},t.prototype.updateNewsById=function(t,e,o){return this._http.patch(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/news/"+e,{newNews:o})},t.prototype.deleteNewsById=function(t,e){return this._http["delete"](s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/news/"+e)},t.prototype.createNews=function(t,e,o){return o||(o=!1),this._http.post(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/news",{news:e,notification:o})},t.prototype.createView=function(t,e,o){return this._http.post(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/news/"+e+"/views",{uuid:o})},t.prototype.getAllNewsViews=function(t){return this._http.get(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/news/views")},t.prototype.getNewsViews=function(t,e){return this._http.get(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/news/"+e+"/views")},t}();A.decorators=[{type:e.Injectable}],A.ctorParameters=function(){return[{type:n.HttpClient}]};var f=function(){function t(t){this._http=t}return t.prototype.getReports=function(t){return this._http.get(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/reports")},t.prototype.getReportById=function(t,e){return this._http.get(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/reports/"+e)},t.prototype.updateReportById=function(t,e,o){return this._http.patch(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/reports/"+e,{newReport:o})},t.prototype.deleteReportById=function(t,e){return this._http["delete"](s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/reports/"+e)},t.prototype.createReport=function(t,e){return this._http.post(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/reports",{report:e})},t}();f.decorators=[{type:e.Injectable}],f.ctorParameters=function(){return[{type:n.HttpClient}]};var y=function(){function t(t){this._http=t}return t.prototype.signin=function(t,e){return this._http.post(s.UNIVERSAL_CONFIG.API_URL+"/v1/sessions",{email:t,password:e})},t}();y.decorators=[{type:e.Injectable}],y.ctorParameters=function(){return[{type:n.HttpClient}]};var d=function(){function t(t){this._http=t}return t.prototype.getShops=function(t){return this._http.get(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/shops")},t.prototype.getShopById=function(t,e){return this._http.get(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/shops/"+e)},t.prototype.updateShopById=function(t,e,o){return this._http.patch(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/shops/"+e,{newShop:o})},t.prototype.deleteShopById=function(t,e){return this._http["delete"](s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/shops/"+e)},t.prototype.createShop=function(t,e){return this._http.post(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/shops",{shop:e})},t.prototype.validateShopById=function(t,e){return this._http.patch(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/shops/"+e+"/validate",{})},t}();d.decorators=[{type:e.Injectable}],d.ctorParameters=function(){return[{type:n.HttpClient}]};var N=function(){function t(t){this._http=t}return t.prototype.getfeatures=function(t){return this._http.get(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/townhall_features")},t.prototype.updateFeatures=function(t,e){return this._http.patch(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/townhall_features/",{newFeatures:e})},t}();N.decorators=[{type:e.Injectable}],N.ctorParameters=function(){return[{type:n.HttpClient}]};var R=function(){function t(t){this._http=t}return t.prototype.getTownhalls=function(){return this._http.get(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls")},t.prototype.getTownhallById=function(t){return this._http.get(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t)},t.prototype.updateTownhallById=function(t,e){return this._http.patch(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t,{newTownhall:e})},t.prototype.convertColorToHTML=function(t){for(var e=[{color:"red-500",html:"#f44336"},{color:"pink-500",html:"#e91e63"},{color:"purple-500",html:"#9c27b0"},{color:"deep-purple-500",html:"#673ab7"},{color:"indigo-500",html:"#3f51b5"},{color:"blue-500",html:"#2196f3"},{color:"cyan-500",html:"#00bcd4"},{color:"teal-500",html:"#009688"},{color:"green-500",html:"#4caf50"},{color:"light-green-500",html:"#8bc34a"},{color:"lime-500",html:"#cddc39"},{color:"yellow-500",html:"#ffeb3b"},{color:"amber-500",html:"#ffc107"},{color:"orange-500",html:"#ff9800"},{color:"deep-orange-500",html:"#ff5722"},{color:"brown-500",html:"#795548"},{color:"grey-500",html:"#9e9e9e"}],o=0;o<e.length;o++)if(console.log("Couleur voulue: "+t+"|"+e[o].color),e[o].color===t)return e[o].html;return"#9e9e9e"},t}();R.decorators=[{type:e.Injectable}],R.ctorParameters=function(){return[{type:n.HttpClient}]};var g=function(){function t(t){this._http=t}return t.prototype.countUsers=function(t){return this._http.get(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/users/count")},t.prototype.platformsUsers=function(t){return this._http.get(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/users/platforms")},t.prototype.getUserById=function(t,e){return this._http.get(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/users/"+e)},t.prototype.getUserByUUID=function(t,e){return this._http.get(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/users/"+e+"/uuid")},t.prototype.createUser=function(t,e){return this._http.post(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/users",{user:e})},t}();g.decorators=[{type:e.Injectable}],g.ctorParameters=function(){return[{type:n.HttpClient}]};var U=function(){function t(t){this._http=t}return t.prototype.getWeather=function(t){return this._http.get(s.UNIVERSAL_CONFIG.API_URL+"/v1/townhalls/"+t+"/weather")},t.prototype.getWeatherIcon=function(t){switch(t){case"ensoleille":return"wi-day-sunny";case"nuit-claire":return"wi-night-clear";case"ciel-voile":return"wi-day-cloudy";case"nuit-legerement-voilee":return"wi-night-alt-partly-cloudy";case"faibles-passages-nuageux":return"wi-day-cloudy";case"nuit-bien-degagee":return"wi-night-partly-cloudy";case"brouillard":return"wi-fog";case"stratus":return"wi-cloud";case"stratus-se-dissipant":return"wi-day-sunny-overcast";case"nuit-claire-et-stratus":return"wi-night-alt-cloudy";case"eclaircies":return"wi-day-cloudy";case"nuit-nuageuse":return"wi-night-alt-cloudy";case"faiblement-nuageux":return"wi-cloud";case"fortement-nuageux":return"wi-cloudy";case"averses-de-pluie-faible":return"wi-day-showers";case"nuit-avec-averses":return"wi-night-alt-showers";case"averses-de-pluie-moderee":case"averses-de-pluie-forte":return"wi-day-showers";case"couvert-avec-averses":return"wi-showers";case"pluie-faible":case"pluie-forte":case"pluie-moderee":return"wi-rain";case"developpement-nuageux":return"wi-day-cloudy-high";case"nuit-avec-developpement-nuageux":return"wi-night-alt-cloudy-high";case"faiblement-orageux":return"wi-day-thunderstorm";case"nuit-faiblement-orageuse":return"wi-night-alt-thunderstorm";case"orage-modere":case"fortement-orageux":return"wi-day-thunderstorm";case"averses-de-neige-faible":return"wi-day-rain-mix";case"nuit-avec-averses-de-neige-faible":return"wi-night-alt-rain-mix";case"neige-faible":case"neige-moderee":case"neige-forte":return"wi-snow";case"pluie-et-neige-melee-faible":case"pluie-et-neige-melee-moderee":case"pluie-et-neige-melee-forte":return"wi-rain-mix";default:return"wi-day-sunny"}},t}();U.decorators=[{type:e.Injectable}],U.ctorParameters=function(){return[{type:n.HttpClient}]};var w=function(){return function(){}}(),L=function(){return function(){}}(),v=function(){return function(){}}(),S=function(){return function(){}}(),C=function(){return function(){}}(),E=function(){return function(){}}(),F=function(){return function(){}}(),P=function(){return function(){}}(),m=function(){return function(){}}(),O=function(){return function(){}}(),G=function(){return function(){}}(),V=function(){return function(){}}(),b=function(){return function(){}}(),M={COMM_ADMIN:90,ADMIN:80,ASSOCIATION_MANAGER:60};M[M.COMM_ADMIN]="COMM_ADMIN",M[M.ADMIN]="ADMIN",M[M.ASSOCIATION_MANAGER]="ASSOCIATION_MANAGER";var B=function(){return function(){}}();t.UniversalMairieSdkModule=s,t.ArticleService=i,t.AssociationAnnounceService=a,t.AssociationSubscriptionService=u,t.AssociationService=c,t.DirectoryCategoryService=p,t.DiscussionMessageService=l,t.DiscussionService=I,t.FirebaseService=_,t.NewsService=A,t.ReportService=f,t.SessionService=y,t.ShopService=d,t.TownhallFeatureService=N,t.TownhallService=R,t.UserService=g,t.WeatherService=U,t.ArticleModel=w,t.AssociationAnnounceModel=L,t.AssociationSubscriptionModel=v,t.AssociationModel=S,t.DirectoryCategoryModel=C,t.DiscussionMessageModel=E,t.DiscussionModel=F,t.NewsModel=P,t.ReportModel=m,t.ShopModel=O,t.TownhallFeatureModel=G,t.TownhallModel=V,t.UserModel=b,t.RANKS=M,t.WeatherModel=B,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=universal-mairie-sdk.umd.min.js.map
